<!DOCTYPE html><html><head><link rel="icon" href="https://raw.githubusercontent.com/school-of-data/giscurriculum/main/public/favicon.ico"/><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>School of Data | Open Geodata Curriculum</title><meta name="next-head-count" content="3"/><link rel="preload" href="/open-geodata-curriculum/_next/static/css/6fef25bf7c867435.css" as="style"/><link rel="stylesheet" href="/open-geodata-curriculum/_next/static/css/6fef25bf7c867435.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/open-geodata-curriculum/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/open-geodata-curriculum/_next/static/chunks/webpack-1d815a7ff8c88397.js" defer=""></script><script src="/open-geodata-curriculum/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/open-geodata-curriculum/_next/static/chunks/main-6c15484d248bb840.js" defer=""></script><script src="/open-geodata-curriculum/_next/static/chunks/pages/_app-16ef75dead583121.js" defer=""></script><script src="/open-geodata-curriculum/_next/static/chunks/217-518720e6f69fd091.js" defer=""></script><script src="/open-geodata-curriculum/_next/static/chunks/955-b09ef76f5f43ab90.js" defer=""></script><script src="/open-geodata-curriculum/_next/static/chunks/457-a5e05b1f006ad830.js" defer=""></script><script src="/open-geodata-curriculum/_next/static/chunks/pages/%5Blocale%5D/%5Bcountry%5D/module/%5Bslug%5D-b642e48938f4b054.js" defer=""></script><script src="/open-geodata-curriculum/_next/static/g1a0fmd1eoEGKWrnpF1hU/_buildManifest.js" defer=""></script><script src="/open-geodata-curriculum/_next/static/g1a0fmd1eoEGKWrnpF1hU/_ssgManifest.js" defer=""></script><script src="/open-geodata-curriculum/_next/static/g1a0fmd1eoEGKWrnpF1hU/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div style="background:#22B7F8;margin:0px" class="ui large top fixed menu"><div class="ui fluid container"><a href="/open-geodata-curriculum//" id="navbar-menu" class="item"><div class="ui small image"><img src="/open-geodata-curriculum//colored_logo.svg"/></div></a></div></div><div style="margin-top:5rem"><div class="ui segment pushable"><div style="border:0px;max-width:80vw" class="ui vertical labeled icon ui overlay left wide sidebar menu"><div class="item"> </div><div style="text-align:left" class="item"><h4>LANGUAGE</h4><div role="listbox" aria-expanded="false" class="ui fluid selection dropdown" tabindex="0"><div aria-atomic="true" aria-live="polite" role="alert" class="divider text">English</div><i aria-hidden="true" class="dropdown icon"></i><div class="menu transition"><div style="pointer-events:all" role="option" aria-checked="true" aria-selected="true" class="active selected item"><span class="text">English</span></div><div style="pointer-events:all" role="option" aria-checked="false" aria-selected="false" class="item"><span class="text">Arabic</span></div><div style="pointer-events:all" role="option" aria-checked="false" aria-selected="false" class="item"><span class="text">Spanish</span></div></div></div><br/></div><div style="text-align:left" class="item"><h4>REGION</h4><div role="listbox" aria-expanded="false" class="ui fluid selection dropdown" tabindex="0"><div aria-atomic="true" aria-live="polite" role="alert" class="divider text">Change Locale</div><i aria-hidden="true" class="dropdown icon"></i><div class="menu transition"></div></div><br/></div><div style="text-align:left" class="item"><h4 style="padding:0.25rem;cursor:pointer"><a>Back to Home Page</a></h4><h4 style="padding:0.25rem;cursor:pointer"><a>Contents Page</a></h4><p style="padding:0rem 0.12rem"><a style="cursor:pointer" href="/open-geodata-curriculum/en/kenya/module/module0">Module <!-- -->0<!-- -->: <!-- -->Gentle Introduction to GIS concepts</a></p><p style="padding:0rem 0.12rem"><a style="cursor:pointer" href="/open-geodata-curriculum/en/kenya/module/module1">Module <!-- -->1<!-- -->: <!-- -->Introduction to QGIS</a></p><p style="padding:0rem 0.12rem"><a style="cursor:pointer" href="/open-geodata-curriculum/en/kenya/module/module2">Module <!-- -->2<!-- -->: <!-- -->Layers in QGIS</a></p><p style="padding:0rem 0.12rem"><a style="cursor:pointer" href="/open-geodata-curriculum/en/kenya/module/module3">Module <!-- -->3<!-- -->: <!-- -->Introduction to OpenStreetMap and the High Resolution Settlement Layer</a></p><p style="padding:0rem 0.12rem"><a style="cursor:pointer" href="/open-geodata-curriculum/en/kenya/module/module4">Module <!-- -->4<!-- -->: <!-- -->Layer Styling and Symbology</a></p><p style="padding:0rem 0.12rem"><a style="cursor:pointer" href="/open-geodata-curriculum/en/kenya/module/module5">Module <!-- -->5<!-- -->: <!-- -->Basic Cartography and Map-making</a></p><p style="padding:0rem 0.12rem"><a style="cursor:pointer" href="/open-geodata-curriculum/en/kenya/module/module6">Module <!-- -->6<!-- -->: <!-- -->Layer Attributes</a></p><p style="padding:0rem 0.12rem"><a style="cursor:pointer" href="/open-geodata-curriculum/en/kenya/module/module7">Module <!-- -->7<!-- -->: <!-- -->Layer Creation and Editing</a></p><p style="padding:0rem 0.12rem"><a style="cursor:pointer" href="/open-geodata-curriculum/en/kenya/module/module8">Module <!-- -->8<!-- -->: <!-- -->Vector Processing and Analysis</a></p><p style="padding:0rem 0.12rem"><a style="cursor:pointer" href="/open-geodata-curriculum/en/kenya/module/module9">Module <!-- -->9<!-- -->: <!-- -->Raster Processing and Analysis</a></p><p style="padding:0rem 0.12rem"><a style="cursor:pointer" href="/open-geodata-curriculum/en/kenya/module/module10">Module <!-- -->10<!-- -->: <!-- -->QGIS Plugins</a></p></div></div><div class="pusher"><div class="ui basic segment"><div style="margin:0rem;padding:0.15rem"><button class="ui button">Content Menu</button><h1 id="module-6---layer-attributes"><a aria-hidden="true" tabindex="-1" href="#module-6---layer-attributes"><span class="icon icon-link"></span></a>Module 6 - Layer attributes</h1><p><strong>Author:</strong> Ketty Adoch</p><p><strong>Editor:</strong> Ben Hur Pintor</p><h2 id="pedagogical-introduction"><a aria-hidden="true" tabindex="-1" href="#pedagogical-introduction"><span class="icon icon-link"></span></a>Pedagogical Introduction</h2><p>This module will provide you with an overview of the common steps needed to work with the attribute table and layer attributes in QGIS. At the end of the module you’ll be able to understand the following concepts;</p><ul><li>Working with the attribute table</li><li>Using the field calculator</li><li>QGIS expression engine</li><li>Refactoring fields</li></ul><p>Additionally, you will learn the following skills;</p><ul><li>Introducing the attribute table interface</li><li>Interacting with features in an attribute table</li><li>Saving selected feature as new layer</li><li>Editing layer fields</li></ul><p>You’ll use the field calculator and qgis expression engine to run mathematical operations and functions in QGIS. </p><h2 id="required-tools-and-resources"><a aria-hidden="true" tabindex="-1" href="#required-tools-and-resources"><span class="icon icon-link"></span></a>Required tools and resources</h2><ul><li>Working computer</li><li>Internet connection</li><li>QGIS 3.16 and above</li><li><a href="https://drive.google.com/drive/folders/1DXRGtW_LBGrO6QspSSzilLzVhg3MVu6x?usp=sharing">Module 6 data</a><ul><li>Kiambu administrative boundary layer (inside <a href="https://drive.google.com/file/d/1jQdeAsR0v3AmYZwlsyPDQQiUDfbKKpZr/view?usp=sharing">module6.gpkg</a>)</li><li>Kiambu clinics (inside <a href="https://drive.google.com/file/d/1jQdeAsR0v3AmYZwlsyPDQQiUDfbKKpZr/view?usp=sharing">module6.gpkg</a>)</li><li>Kenya counties (inside <a href="https://drive.google.com/file/d/1jQdeAsR0v3AmYZwlsyPDQQiUDfbKKpZr/view?usp=sharing">module6.gpkg</a>)</li><li><a href="https://drive.google.com/file/d/1NTCwshHDmZu534iRfaZtflrvPeIpdEN6/view?usp=sharing">Kiambu High Resolution Settlement Layer</a></li></ul></li></ul><h2 id="prerequisites"><a aria-hidden="true" tabindex="-1" href="#prerequisites"><span class="icon icon-link"></span></a>Prerequisites</h2><ul><li>A fair knowledge of all previous modules</li><li>Basic knowledge of operating a computer</li></ul><h2 id="additional-resources"><a aria-hidden="true" tabindex="-1" href="#additional-resources"><span class="icon icon-link"></span></a>Additional resources</h2><ul><li>Working with the Attribute Table - <a href="https://docs.qgis.org/latest/en/docs/user_manual/working_with_vector/attribute_table.html?highlight=layer%20attributes">https://docs.qgis.org/latest/en/docs/user_manual/working_with_vector/attribute_table.html?highlight=layer%20attributes</a></li><li>QGIS Expressions - <a href="https://docs.qgis.org/latest/en/docs/pyqgis_developer_cookbook/expressions.html">https://docs.qgis.org/latest/en/docs/pyqgis_developer_cookbook/expressions.html</a></li></ul><h2 id="thematic-introduction"><a aria-hidden="true" tabindex="-1" href="#thematic-introduction"><span class="icon icon-link"></span></a>Thematic introduction</h2><p>Let’s start with an example: </p><p>In some cases, for instance for infrastructure planning purposes, you may want to know the area of the polygons in a layer. If you have one polygon, this would not be a problem. But what if you have many polygons/areas in the layer? To calculate each area one by one is almost impossible. The Kenya counties vector layer has many polygons which means it would be a good dataset for this tutorial. We are going to calculate the area for each polygon using an automated way. In total, the area of 47 counties will be calculated. </p><h2 id="breakdown-of-the-concepts"><a aria-hidden="true" tabindex="-1" href="#breakdown-of-the-concepts"><span class="icon icon-link"></span></a>Breakdown of the concepts</h2><p>Much of the work you do when making a map involves working with layer attributes. Whether you’re drawing the layer, configuring a popup, performing analysis or visualising you need some level of knowledge of the layer’s fields and the values they contain. If it’s your own layer, you know and understand its attributes. But if it isn’t, how do you gain that knowledge? Likely, you inspect the field names and examine field values for some clues. And if you’re lucky, you’ll find some documentation that describes the layer’s attributes.</p><p>The attribute table displays information on features of a selected layer. Each row in the table represents a feature (with or without geometry), and each column contains a particular piece of information about the feature. Features in the table can be searched, selected, moved or even edited.Specifically, there are two new field properties that describe the values contained in a field;</p><ul><li><strong>Field description</strong> –  a few words, a sentence, or a paragraph of text that describes the values in the field. </li><li><strong>Field value type</strong> – a keyword that categorizes the type of values contained in the field. The keyword helps people understand how to use the values and allows QGIS and other client applications to make smarter suggestions for working with them, for example, the values types in the field may be integer, string, boolean, double or floating point</li></ul><p>Here’s an example; Suppose you have a land parcel layer that has these fields:</p><ul><li>Parcel ID – Integer</li><li>Owner – String</li><li>Street Address – String</li><li>Property Description – String</li><li>Buildings – Integer</li><li>Land Area – Double</li><li>Assessed Value – Double</li><li>Assessment Date – Date</li></ul><p>If you were to describe these field values, you might write something like this:</p><ul><li>Parcel ID – the unique identifier of the parcel</li><li>Owner – the name of the property owner</li><li>Street Address – the location of the parcel</li><li>Property Description – the legal description of the property</li><li>Buildings – the number of buildings on the parcel</li><li>Land Area – the size of the parcel in acres</li><li>Assessed value – the value of the parcel and buildings in dollars</li><li>Assessment Date – the date of the last assessment</li></ul><p>In looking at these descriptions, some words stand out, like: identifier, name, location, description, number of, size, value, and date. These are the <em>keywords</em> that describe what the field values are. The field value type keywords are constructed from these types of words. They are:</p><ul><li>Name or Title</li><li>Description</li><li>Type or Category</li><li>Count or Amount</li><li>Percentage or Ratio</li><li>Measurement</li><li>Unique Identifier</li><li>Ordered or Ranked</li><li>Binary</li><li>Location or Place Name</li><li>Coordinate</li><li>Date and Time</li></ul><p>In the parcel layer example above, the Parcel ID field is an integer field. If the field value type indicates the field values represent a unique identifier rather than a count, QGIS would not suggest drawing this field attribute using graduated colors or symbols.</p><p>In addition, other concepts like the field calculator functionality in the attribute table allows one to perform calculations on basis of existing attribute values or defined functions, e.g to calculate length, area or population density. Note that the possible calculations are determined by the attributes or make up of your data. For example, it’s only possible to calculate population density if there’s a field with population counts. Using the expression engine and field calculator, you would then go on to construct an expression or formula to calculate population density. In this case the formula would be; total population as a number of people/the land area covered by that population. You’ll notice that it’s important to know what each of the fields in the layer attribute table represents. This means you need to know and understand your data thoroughly. This makes it easier to apply functions and expressions and therefore come up with meaningful analyses and visualizations/map products. </p><h3 id="phase-1-title-editing-layer-attributes"><a aria-hidden="true" tabindex="-1" href="#phase-1-title-editing-layer-attributes"><span class="icon icon-link"></span></a>Phase 1 title: Editing layer attributes</h3><h4 id="contenttutorial"><a aria-hidden="true" tabindex="-1" href="#contenttutorial"><span class="icon icon-link"></span></a><strong>Content/Tutorial</strong></h4><p>The attribute table displays information on features of a selected layer. Each row in the table represents a feature (with or without geometry), and each column contains a particular piece of information about the feature. Features in the table can be searched, selected, moved or even edited.</p><ol><li>Load the Kenya counties vector layer (found inside <a href="https://drive.google.com/file/d/1jQdeAsR0v3AmYZwlsyPDQQiUDfbKKpZr/view?usp=sharing">module6.gpkg</a>) in QGIS. You can know how many features are in the current feature by <strong>Right-clicking on the layer on the Layers Panel ‣ Show Feature Count</strong>. As you can see below, the vector layer has many features. In total, there are 47 features corresponding to 47 counties.</li></ol><p><img src="/open-geodata-curriculum/images/en/kenya/module6/media/many-polygons.png" alt="Several polygons" title="Several polygons"/></p><p>Figure 6.1: Several polygons</p><ol start="2"><li>The next step is to explore the attribute table interface. Open the attribute table by <strong>Right-clicking on the layer on the Layers Panel ‣ Open Attribute Table</strong>. You can also click the <strong>Open Attribute Table button</strong> <img src="/open-geodata-curriculum/images/en/kenya/module6/media/open-attribute-btn.png" alt="Open attribute table button" title="Open attribute table button"/> from the Attributes Toolbar. This is what the attribute table looks like. The tool bar has a range of buttons, hover over each button to see the embedded functionality.</li></ol><p><img src="/open-geodata-curriculum/images/en/kenya/module6/media/attribute-tab.png" alt="Open attribute table" title="Open attribute table"/></p><p>Figure 6.2: Open attribute table</p><p>If you don&#x27;t want the attribute table to be a floating window but rather dock it on the QGIS interface, you can click the <strong>Dock attribute table button</strong> <img src="/open-geodata-curriculum/images/en/kenya/module6/media/dock-attr-btn.png" alt="&quot;Dock attribute table&quot;" title="Dock attribute table"/>. When docked, attribute tables will appear as tabs instead of individual windows.</p><p><img src="/open-geodata-curriculum/images/en/kenya/module6/media/docked-attribute-tab.png" alt="Docked attribute table" title="Docked attribute table"/></p><p>Figure 6.3: Docked attribute table</p><ol start="3"><li><p>For area calculations, the Coordinate Reference System should be a projected one. This allows you to calculate distances correctly. Remember, our interest is to automatically calculate the area for each of the 81 provinces. Check the Coordinate Reference System of the vector layer. If it’s a geographic coordinate reference system, then reproject the layer to a projected coordinate system. Check for different projections on the <a href="https://epsg.io/?q=Kenya">EPSG</a> website. This is Kenya, which has several projections depending on the zone. Since this exercise covers several zones, we&#x27;ll use a universal projection used across Africa- <a href="https://epsg.io/102022">EPSG:102022 / Africa Albers Equal Area Conic</a>. From previous modules where map projections are extensively discussed, you may already know that map projections are applied relative to a given location on earth. </p></li><li><p>Check the project Settings; Go to: <strong>Project ‣ Properties Properties ‣ General</strong>.</p></li></ol><p><img src="/open-geodata-curriculum/images/en/kenya/module6/media/gen-settings.png" alt="Planimetric" title="Planimetric"/></p><p>Figure 6.4: General settings</p><ol start="5"><li>Next, Click the <strong>Open field calculator</strong> <img src="/open-geodata-curriculum/images/en/kenya/module6/media/field_calculator.png" alt="alt_text" title="image_tooltip"/> button on the Attributes Toolbar to open the field calculator. The field calculator dialogue will open; fill in the output field name, in this case it will be ‘AREA (SQ KM)’. Choose the Decimal number (double) on the output field type. Change the precision to 2 decimal places. To calculate the area, use the following expression:</li></ol><pre><code>$area / 1000000
</code></pre><p> You can find this expression under <strong>Geometry</strong>. Click OK and it will automatically calculate the area for each polygon. Take note that the area computation is dependent on the coordinate reference system used so you may have different results depending on what CRS you used. You can also search and find information about expressions on the right side of the Field Calculator or Expression Builder.</p><p><img src="/open-geodata-curriculum/images/en/kenya/module6/media/fieldcalc.png" alt="Field calculator dialogue" title="Field calculator dialogue"/></p><p>Figure 6.5: Field calculator dialogue</p><ol start="6"><li>Open the attribute table to see the result. You just edited the contents of the attribute table, in an automated way as opposed to typing the values in each cell one by one. </li></ol><p><img src="/open-geodata-curriculum/images/en/kenya/module6/media/area.png" alt="New attribute table with new field and attributes" title="New attribute table with new field and attributes"/></p><p>Figure 6.6: New attribute table with new field and attributes</p><h4 id="quiz-questions"><a aria-hidden="true" tabindex="-1" href="#quiz-questions"><span class="icon icon-link"></span></a><strong>Quiz questions</strong></h4><ol><li><p>An attribute table is a database or tabular file containing information about a set of geographic features</p></li><li><p>Geographic features are usually arranged so that each row represents a feature and each column represents one feature attribute</p></li><li><p>It is necessary to reproject layers prior to area calculations when the layer has a geographic coordinate reference system</p></li></ol><h4 id="quiz-answers"><a aria-hidden="true" tabindex="-1" href="#quiz-answers"><span class="icon icon-link"></span></a><strong>Quiz answers</strong></h4><ol><li>True</li><li>True</li><li>True</li></ol><h3 id="phase-2--understanding-and-working-with-attribute-data-queries-and-analysis"><a aria-hidden="true" tabindex="-1" href="#phase-2--understanding-and-working-with-attribute-data-queries-and-analysis"><span class="icon icon-link"></span></a>Phase 2 : Understanding and working with attribute data, queries and analysis</h3><h4 id="contenttutorial-1"><a aria-hidden="true" tabindex="-1" href="#contenttutorial-1"><span class="icon icon-link"></span></a><strong>Content/Tutorial</strong></h4><p>At this point, you might notice that the attribute table stores both spatial and non-spatial data. In this tutorial you’ll discover ways of working with attribute table data. For example, Using expressions, select Clinics in Kiambu county with a wheelchair facility, all using data from the attribute table. </p><ol><li>Add the following datasets of Kenya to the QGIS map canvas; </li></ol><ul><li>Kiambu administrative boundary layer (inside <a href="https://drive.google.com/file/d/1jQdeAsR0v3AmYZwlsyPDQQiUDfbKKpZr/view?usp=sharing">module6.gpkg</a>)</li><li>Kiambu clinics (inside <a href="https://drive.google.com/file/d/1jQdeAsR0v3AmYZwlsyPDQQiUDfbKKpZr/view?usp=sharing">module6.gpkg</a>)</li><li>Kenya counties (inside <a href="https://drive.google.com/file/d/1jQdeAsR0v3AmYZwlsyPDQQiUDfbKKpZr/view?usp=sharing">module6.gpkg</a>)</li><li><a href="https://drive.google.com/file/d/1NTCwshHDmZu534iRfaZtflrvPeIpdEN6/view?usp=sharing">Kiambu High Resolution Settlement Layer</a></li></ul><p><img src="/open-geodata-curriculum/images/en/kenya/module6/media/add-layers.png" alt="Add different layers" title="Add different layers"/></p><p>Figure 6.7: Add different layers</p><ol start="2"><li>The selection will be applied to the Clinics layer, therefore Open the attribute table for the Clinic layer. Click the select features using expression <img src="/open-geodata-curriculum/images/en/kenya/module6/media/select_features_button.png" alt="alt_text" title="image_tooltip"/> button and type the following expression in the expression builder;</li></ol><pre><code>&quot;amenity&quot; = &#x27;clinic&#x27; AND &quot;wheelchair&quot; = &#x27;yes&#x27;
</code></pre><p>You’ll notice that the expression has a number of predicates like the comparison sign (=), the logical predicate (AND) and a string which is enclosed in single quotes (‘ ‘). There are also two attribute names(amenity, emergency) and their values (clinic,yes). </p><p><img src="/open-geodata-curriculum/images/en/kenya/module6/media/select.png" alt="alt_text" title="image_tooltip"/></p><p>Figure 6.8: Select by Expression builder dialogue</p><ol start="3"><li>Four Clinics are selected. You can see the selection highlighted in yellow. The selected clinics are also highlighted in the attribute table. Now we know there are four clinics with wheelchair facility in Kiambu county.</li></ol><p><img src="/open-geodata-curriculum/images/en/kenya/module6/media/selected-canvas.png" alt="alt_text" title="image_tooltip"/></p><p>Figure 6.9: Selected clinic/feature is highlighted (yellow)</p><p><img src="/open-geodata-curriculum/images/en/kenya/module6/media/selected-attr.png" alt="alt_text" title="image_tooltip"/></p><p>Figure 6.10: Selected clinic/feature is highlighted (blue)</p><p>It’s also possible to make selections by clicking a feature  within the map canvas. </p><p>Developing a functional expression starts with understanding your data; for example the attributes and   the values they hold. Then asking the right questions and finally, developing the correct expression, putting into consideration all mathematical rules that make an error free expression.</p><h4 id="quiz-questions-1"><a aria-hidden="true" tabindex="-1" href="#quiz-questions-1"><span class="icon icon-link"></span></a><strong>Quiz questions</strong></h4><ol><li>These operators are provided by the expression builder.  {+, -, *}</li><li>Single quotes must enclose a string.</li><li>The attribute table stores only non spatial data.</li></ol><h4 id="quiz-answers-1"><a aria-hidden="true" tabindex="-1" href="#quiz-answers-1"><span class="icon icon-link"></span></a><strong>Quiz answers</strong></h4><ol><li>True</li><li>True</li><li>False</li></ol><h3 id="phase-3-title--advanced-qgis-expressions"><a aria-hidden="true" tabindex="-1" href="#phase-3-title--advanced-qgis-expressions"><span class="icon icon-link"></span></a>Phase 3 title : Advanced QGIS expressions</h3><p>The Expression builder dialog offers access to the:</p><ul><li>Expression tab (<a href="https://docs.qgis.org/latest/en/docs/user_manual/working_with_vector/expression.html">https://docs.qgis.org/latest/en/docs/pyqgis_developer_cookbook/expressions.html?highlight=vector%20expressions</a>) which, thanks to a list of predefined functions, helps to write and check the expression to use;</li><li>Function Editor tab (<a href="https://docs.qgis.org/latest/en/docs/user_manual/working_with_vector/expression.html">https://docs.qgis.org/latest/en/docs/user_manual/working_with_vector/expression.html</a>) which helps to extend the list of functions by creating custom ones.</li></ul><h4 id="contenttutorial-2"><a aria-hidden="true" tabindex="-1" href="#contenttutorial-2"><span class="icon icon-link"></span></a><strong>Content/Tutorial</strong></h4><p>There are many use cases for expressions, here are some examples. Notice how the expressions are developed and what operators or predicates are used. Also important is the fact that all these expressions are developed based on the content of the dataset. You may adapt this to your dataset of choice.</p><ol><li>From Field Calculator, calculate a “pop_density” field using existing “total_pop” and “area_km2” fields:</li></ol><pre><code>&quot;total_pop&quot; / &quot;area_km2&quot;
</code></pre><ol start="2"><li>Update the field “density_level” with categories according to the “pop_density” values:</li></ol><pre><code>CASE WHEN &quot;pop_density&quot; &lt; 50 THEN &#x27;Low population density&#x27;
     WHEN &quot;pop_density&quot; &gt;= 50 AND  &quot;pop_density&quot; &lt; 150 THEN &#x27;Medium population density&#x27;
     WHEN &quot;pop_density&quot; &gt; 150 THEN &#x27;High population density&#x27;
END
</code></pre><ol start="3"><li>Apply a categorized style to all the features according to whether their average house price is smaller or higher than 10000 shillings per square metre: </li></ol><pre><code>&quot;price_m2&quot; &gt; 10000
</code></pre><ol start="4"><li>Using the “Select By Expression...” tool, select all the features representing areas of “High population density” and whose average house price is higher than 10000 pesos per square metre:</li></ol><pre><code>&quot;density level&quot; = &#x27;High population density&#x27; and &quot;price_m2&quot; &gt; 10000
</code></pre><ol start="5"><li>Likewise, the previous expression could also be used to define which features should be labeled or shown in the map. </li></ol><h4 id="quiz-questions-2"><a aria-hidden="true" tabindex="-1" href="#quiz-questions-2"><span class="icon icon-link"></span></a><strong>Quiz questions</strong></h4><ol><li>Both Field calculator and Select by Expression dialogue can be used to develop expressions -- <strong><em>True</em></strong></li><li>Expressions can be used to update a new field -- <strong><em>True</em></strong></li><li>Expressions can be used to apply a style  -- <strong><em>True</em></strong></li></ol><div style="margin-top:1rem" class="ui grid"><div class="row"><div class="two wide column"><a style="color:#fff;background:#22B7F8" href="/open-geodata-curriculum/en/kenya/module/module5" class="ui large icon left labeled button" role="button">Back<i aria-hidden="true" class="angle left icon"></i></a></div><div class="seven wide column"> </div><div style="text-align:center" class="two wide column"><a style="color:#fff;background:#22B7F8" href="/open-geodata-curriculum/en/kenya/module/module7" class="ui large icon right labeled button" role="button">Next<i aria-hidden="true" class="angle right icon"></i></a></div><div class="one wide column">  </div></div></div></div><div style="padding:1rem" class="ui justified container"></div></div></div></div></div><div style="padding:5em 0em;background:#f6f6f6;color:#fff" class="ui inverted vertical segment"><div class="ui center aligned container"><div class="ui stackable two column grid"><div class="column logo_wrapper"><img src="/open-geodata-curriculum//grey_logo.svg" class="ui small image grey_logo"/></div><div class="column footer-links"><h4 class="ui inverted header"></h4><div role="list" class="ui small horizontal link list" style="margin-top:0px"><a role="listitem" class="item" href="https://okfn.org/privacy-policy/" target="_blank">Privacy Policy</a><a role="listitem" class="item" href="https://okfn.org/ip-policy/" target="_blank">IP Policy</a><a role="listitem" class="item" href="https://okfn.org/cookie-policy/" target="_blank">Cookie Policy</a><a role="listitem" class="item" href="https://okfn.org/terms-of-use/" target="_blank">Term of Use</a><a role="listitem" class="item" href="https://okfn.org/about/jobs/" target="_blank">Jobs</a><a role="listitem" class="item" href="https://okfn.org/contact/" target="_blank">Contact</a></div></div></div><div class="ui inverted section divider"></div><div style="text-align:left;font-size:1rem;color:black"><p><a href="https://github.com/school-of-data/open-geodata-curriculum" title="Site source code"><i class="fa fa-code fa-lg fa-fw"></i> Source code</a> available under the MIT license.</p><p><a class="license" rel="license" href="https://creativecommons.org/licenses/by/4.0/"><svg width="16px" height="16px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 54.95 54.95"><title>cc</title><path d="M7117.46,7140.15a26.81,26.81,0,0,1,19.63,8A26.42,26.42,0,0,1,7143,7157a29,29,0,0,1,0,21.15,25.21,25.21,0,0,1-5.86,8.71A28.23,28.23,0,0,1,7128,7193a27.35,27.35,0,0,1-10.55,2.11A26.71,26.71,0,0,1,7107,7193a28.28,28.28,0,0,1-14.94-14.94,27.44,27.44,0,0,1,0-20.93,27.57,27.57,0,0,1,6.06-9A26,26,0,0,1,7117.46,7140.15Zm0.1,5a21.29,21.29,0,0,0-15.85,6.57,23.63,23.63,0,0,0-5,7.38,21.79,21.79,0,0,0,0,17.07,23.26,23.26,0,0,0,12.29,12.22,22.29,22.29,0,0,0,17.1,0,23.7,23.7,0,0,0,7.48-5,21.11,21.11,0,0,0,6.43-15.75,22.57,22.57,0,0,0-1.67-8.64,22,22,0,0,0-4.86-7.26A21.74,21.74,0,0,0,7117.55,7145.1Zm-0.34,18-3.68,1.91a3.77,3.77,0,0,0-1.45-1.72,3.26,3.26,0,0,0-1.59-.49q-3.68,0-3.68,4.86a6,6,0,0,0,.93,3.53,3.14,3.14,0,0,0,2.75,1.33,3.44,3.44,0,0,0,3.39-2.36l3.39,1.72a8.48,8.48,0,0,1-13.15,2.06,9.76,9.76,0,0,1,0-12.51,7.77,7.77,0,0,1,5.76-2.31Q7115,7159.09,7117.21,7163.06Zm15.85,0-3.63,1.91a3.77,3.77,0,0,0-1.45-1.72,3.33,3.33,0,0,0-1.64-.49q-3.68,0-3.68,4.86a6,6,0,0,0,.93,3.53,3.14,3.14,0,0,0,2.75,1.33,3.44,3.44,0,0,0,3.39-2.36l3.43,1.72a8.44,8.44,0,0,1-3,3.16,8.63,8.63,0,0,1-10.13-1.1,9.8,9.8,0,0,1,0-12.51,7.77,7.77,0,0,1,5.77-2.31Q7130.9,7159.09,7133.06,7163.06Z" transform="translate(-7090.03 -7140.15)"></path></svg><svg width="16px" height="16px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 54.95 54.95"><title>by</title><path d="M7117.46,7140.15a27.23,27.23,0,0,1,27.52,27.48,25.9,25.9,0,0,1-7.85,19.28,27.15,27.15,0,0,1-19.67,8.19,27.64,27.64,0,0,1-27.43-27.48,26.93,26.93,0,0,1,8.1-19.53A26.31,26.31,0,0,1,7117.46,7140.15Zm0.1,5a21.39,21.39,0,0,0-15.85,6.57,22.11,22.11,0,0,0-6.72,15.95,22.79,22.79,0,0,0,22.57,22.47,22.06,22.06,0,0,0,16-6.72,20.93,20.93,0,0,0,6.48-15.75A22.45,22.45,0,0,0,7117.55,7145.1Zm7.36,15.7V7172h-3.14v13.35h-8.54V7172h-3.14V7160.8a1.76,1.76,0,0,1,1.77-1.77h11.28a1.73,1.73,0,0,1,1.23.52A1.67,1.67,0,0,1,7124.91,7160.8Zm-11.24-7.07q0-3.88,3.83-3.88t3.83,3.88q0,3.83-3.83,3.83T7113.68,7153.74Z" transform="translate(-7090.03 -7140.15)"></path></svg></a>Content on this site, made by <a href="https://okfn.org/" property="cc:attributionName" rel="cc:attributionURL">Open Knowledge Foundation</a>, is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</p><p>Refer to our <a href="https://okfn.org/attribution/" target="_blank">attribution page</a> for attributions of other work on the site.</p></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"source":{"compiledSource":"var d=Object.defineProperty,h=Object.defineProperties;var c=Object.getOwnPropertyDescriptors;var r=Object.getOwnPropertySymbols;var o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;var s=(a,t,i)=\u003et in a?d(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i,e=(a,t)=\u003e{for(var i in t||(t={}))o.call(t,i)\u0026\u0026s(a,i,t[i]);if(r)for(var i of r(t))l.call(t,i)\u0026\u0026s(a,i,t[i]);return a},p=(a,t)=\u003eh(a,c(t));var u=(a,t)=\u003e{var i={};for(var n in a)o.call(a,n)\u0026\u0026t.indexOf(n)\u003c0\u0026\u0026(i[n]=a[n]);if(a!=null\u0026\u0026r)for(var n of r(a))t.indexOf(n)\u003c0\u0026\u0026l.call(a,n)\u0026\u0026(i[n]=a[n]);return i};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(i){var n=i,{components:a}=n,t=u(n,[\"components\"]);return mdx(MDXLayout,p(e(e({},layoutProps),t),{components:a,mdxType:\"MDXLayout\"}),mdx(\"h1\",e({},{id:\"module-6---layer-attributes\"}),mdx(\"a\",e({parentName:\"h1\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#module-6---layer-attributes\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Module 6 - Layer attributes\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Author:\"),\" Ketty Adoch\"),mdx(\"p\",null,mdx(\"strong\",{parentName:\"p\"},\"Editor:\"),\" Ben Hur Pintor\"),mdx(\"h2\",e({},{id:\"pedagogical-introduction\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#pedagogical-introduction\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Pedagogical Introduction\"),mdx(\"p\",null,\"This module will provide you with an overview of the common steps needed to work with the attribute table and layer attributes in QGIS. At the end of the module you\\u2019ll be able to understand the following concepts;\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Working with the attribute table\"),mdx(\"li\",{parentName:\"ul\"},\"Using the field calculator\"),mdx(\"li\",{parentName:\"ul\"},\"QGIS expression engine\"),mdx(\"li\",{parentName:\"ul\"},\"Refactoring fields\")),mdx(\"p\",null,\"Additionally, you will learn the following skills;\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Introducing the attribute table interface\"),mdx(\"li\",{parentName:\"ul\"},\"Interacting with features in an attribute table\"),mdx(\"li\",{parentName:\"ul\"},\"Saving selected feature as new layer\"),mdx(\"li\",{parentName:\"ul\"},\"Editing layer fields\")),mdx(\"p\",null,\"You\\u2019ll use the field calculator and qgis expression engine to run mathematical operations and functions in QGIS. \"),mdx(\"h2\",e({},{id:\"required-tools-and-resources\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#required-tools-and-resources\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Required tools and resources\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Working computer\"),mdx(\"li\",{parentName:\"ul\"},\"Internet connection\"),mdx(\"li\",{parentName:\"ul\"},\"QGIS 3.16 and above\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"https://drive.google.com/drive/folders/1DXRGtW_LBGrO6QspSSzilLzVhg3MVu6x?usp=sharing\"}),\"Module 6 data\"),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},\"Kiambu administrative boundary layer (inside \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://drive.google.com/file/d/1jQdeAsR0v3AmYZwlsyPDQQiUDfbKKpZr/view?usp=sharing\"}),\"module6.gpkg\"),\")\"),mdx(\"li\",{parentName:\"ul\"},\"Kiambu clinics (inside \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://drive.google.com/file/d/1jQdeAsR0v3AmYZwlsyPDQQiUDfbKKpZr/view?usp=sharing\"}),\"module6.gpkg\"),\")\"),mdx(\"li\",{parentName:\"ul\"},\"Kenya counties (inside \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://drive.google.com/file/d/1jQdeAsR0v3AmYZwlsyPDQQiUDfbKKpZr/view?usp=sharing\"}),\"module6.gpkg\"),\")\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"https://drive.google.com/file/d/1NTCwshHDmZu534iRfaZtflrvPeIpdEN6/view?usp=sharing\"}),\"Kiambu High Resolution Settlement Layer\"))))),mdx(\"h2\",e({},{id:\"prerequisites\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#prerequisites\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Prerequisites\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"A fair knowledge of all previous modules\"),mdx(\"li\",{parentName:\"ul\"},\"Basic knowledge of operating a computer\")),mdx(\"h2\",e({},{id:\"additional-resources\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#additional-resources\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Additional resources\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Working with the Attribute Table - \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://docs.qgis.org/latest/en/docs/user_manual/working_with_vector/attribute_table.html?highlight=layer%20attributes\"}),\"https://docs.qgis.org/latest/en/docs/user_manual/working_with_vector/attribute_table.html?highlight=layer%20attributes\")),mdx(\"li\",{parentName:\"ul\"},\"QGIS Expressions - \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://docs.qgis.org/latest/en/docs/pyqgis_developer_cookbook/expressions.html\"}),\"https://docs.qgis.org/latest/en/docs/pyqgis_developer_cookbook/expressions.html\"))),mdx(\"h2\",e({},{id:\"thematic-introduction\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#thematic-introduction\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Thematic introduction\"),mdx(\"p\",null,\"Let\\u2019s start with an example: \"),mdx(\"p\",null,\"In some cases, for instance for infrastructure planning purposes, you may want to know the area of the polygons in a layer. If you have one polygon, this would not be a problem. But what if you have many polygons/areas in the layer? To calculate each area one by one is almost impossible. The Kenya counties vector layer has many polygons which means it would be a good dataset for this tutorial. We are going to calculate the area for each polygon using an automated way. In total, the area of 47 counties will be calculated. \"),mdx(\"h2\",e({},{id:\"breakdown-of-the-concepts\"}),mdx(\"a\",e({parentName:\"h2\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#breakdown-of-the-concepts\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Breakdown of the concepts\"),mdx(\"p\",null,\"Much of the work you do when making a map involves working with layer attributes. Whether you\\u2019re drawing the layer, configuring a popup, performing analysis or visualising you need some level of knowledge of the layer\\u2019s fields and the values they contain. If it\\u2019s your own layer, you know and understand its attributes. But if it isn\\u2019t, how do you gain that knowledge? Likely, you inspect the field names and examine field values for some clues. And if you\\u2019re lucky, you\\u2019ll find some documentation that describes the layer\\u2019s attributes.\"),mdx(\"p\",null,\"The attribute table displays information on features of a selected layer. Each row in the table represents a feature (with or without geometry), and each column contains a particular piece of information about the feature. Features in the table can be searched, selected, moved or even edited.Specifically, there are two new field properties that describe the values contained in a field;\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"strong\",{parentName:\"li\"},\"Field description\"),\" \\u2013  a few words, a sentence, or a paragraph of text that describes the values in the field. \"),mdx(\"li\",{parentName:\"ul\"},mdx(\"strong\",{parentName:\"li\"},\"Field value type\"),\" \\u2013 a keyword that categorizes the type of values contained in the field. The keyword helps people understand how to use the values and allows QGIS and other client applications to make smarter suggestions for working with them, for example, the values types in the field may be integer, string, boolean, double or floating point\")),mdx(\"p\",null,\"Here\\u2019s an example; Suppose you have a land parcel layer that has these fields:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Parcel ID \\u2013 Integer\"),mdx(\"li\",{parentName:\"ul\"},\"Owner \\u2013 String\"),mdx(\"li\",{parentName:\"ul\"},\"Street Address \\u2013 String\"),mdx(\"li\",{parentName:\"ul\"},\"Property Description \\u2013 String\"),mdx(\"li\",{parentName:\"ul\"},\"Buildings \\u2013 Integer\"),mdx(\"li\",{parentName:\"ul\"},\"Land Area \\u2013 Double\"),mdx(\"li\",{parentName:\"ul\"},\"Assessed Value \\u2013 Double\"),mdx(\"li\",{parentName:\"ul\"},\"Assessment Date \\u2013 Date\")),mdx(\"p\",null,\"If you were to describe these field values, you might write something like this:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Parcel ID \\u2013 the unique identifier of the parcel\"),mdx(\"li\",{parentName:\"ul\"},\"Owner \\u2013 the name of the property owner\"),mdx(\"li\",{parentName:\"ul\"},\"Street Address \\u2013 the location of the parcel\"),mdx(\"li\",{parentName:\"ul\"},\"Property Description \\u2013 the legal description of the property\"),mdx(\"li\",{parentName:\"ul\"},\"Buildings \\u2013 the number of buildings on the parcel\"),mdx(\"li\",{parentName:\"ul\"},\"Land Area \\u2013 the size of the parcel in acres\"),mdx(\"li\",{parentName:\"ul\"},\"Assessed value \\u2013 the value of the parcel and buildings in dollars\"),mdx(\"li\",{parentName:\"ul\"},\"Assessment Date \\u2013 the date of the last assessment\")),mdx(\"p\",null,\"In looking at these descriptions, some words stand out, like: identifier, name, location, description, number of, size, value, and date. These are the \",mdx(\"em\",{parentName:\"p\"},\"keywords\"),\" that describe what the field values are. The field value type keywords are constructed from these types of words. They are:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Name or Title\"),mdx(\"li\",{parentName:\"ul\"},\"Description\"),mdx(\"li\",{parentName:\"ul\"},\"Type or Category\"),mdx(\"li\",{parentName:\"ul\"},\"Count or Amount\"),mdx(\"li\",{parentName:\"ul\"},\"Percentage or Ratio\"),mdx(\"li\",{parentName:\"ul\"},\"Measurement\"),mdx(\"li\",{parentName:\"ul\"},\"Unique Identifier\"),mdx(\"li\",{parentName:\"ul\"},\"Ordered or Ranked\"),mdx(\"li\",{parentName:\"ul\"},\"Binary\"),mdx(\"li\",{parentName:\"ul\"},\"Location or Place Name\"),mdx(\"li\",{parentName:\"ul\"},\"Coordinate\"),mdx(\"li\",{parentName:\"ul\"},\"Date and Time\")),mdx(\"p\",null,\"In the parcel layer example above, the Parcel ID field is an integer field. If the field value type indicates the field values represent a unique identifier rather than a count, QGIS would not suggest drawing this field attribute using graduated colors or symbols.\"),mdx(\"p\",null,\"In addition, other concepts like the field calculator functionality in the attribute table allows one to perform calculations on basis of existing attribute values or defined functions, e.g to calculate length, area or population density. Note that the possible calculations are determined by the attributes or make up of your data. For example, it\\u2019s only possible to calculate population density if there\\u2019s a field with population counts. Using the expression engine and field calculator, you would then go on to construct an expression or formula to calculate population density. In this case the formula would be; total population as a number of people/the land area covered by that population. You\\u2019ll notice that it\\u2019s important to know what each of the fields in the layer attribute table represents. This means you need to know and understand your data thoroughly. This makes it easier to apply functions and expressions and therefore come up with meaningful analyses and visualizations/map products. \"),mdx(\"h3\",e({},{id:\"phase-1-title-editing-layer-attributes\"}),mdx(\"a\",e({parentName:\"h3\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#phase-1-title-editing-layer-attributes\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Phase 1 title: Editing layer attributes\"),mdx(\"h4\",e({},{id:\"contenttutorial\"}),mdx(\"a\",e({parentName:\"h4\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#contenttutorial\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"icon icon-link\"}))),mdx(\"strong\",{parentName:\"h4\"},\"Content/Tutorial\")),mdx(\"p\",null,\"The attribute table displays information on features of a selected layer. Each row in the table represents a feature (with or without geometry), and each column contains a particular piece of information about the feature. Features in the table can be searched, selected, moved or even edited.\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"Load the Kenya counties vector layer (found inside \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://drive.google.com/file/d/1jQdeAsR0v3AmYZwlsyPDQQiUDfbKKpZr/view?usp=sharing\"}),\"module6.gpkg\"),\") in QGIS. You can know how many features are in the current feature by \",mdx(\"strong\",{parentName:\"li\"},\"Right-clicking on the layer on the Layers Panel \\u2023 Show Feature Count\"),\". As you can see below, the vector layer has many features. In total, there are 47 features corresponding to 47 counties.\")),mdx(\"p\",null,mdx(\"img\",e({parentName:\"p\"},{src:\"/open-geodata-curriculum/images/en/kenya/module6/media/many-polygons.png\",alt:\"Several polygons\",title:\"Several polygons\"}))),mdx(\"p\",null,\"Figure 6.1: Several polygons\"),mdx(\"ol\",e({},{start:2}),mdx(\"li\",{parentName:\"ol\"},\"The next step is to explore the attribute table interface. Open the attribute table by \",mdx(\"strong\",{parentName:\"li\"},\"Right-clicking on the layer on the Layers Panel \\u2023 Open Attribute Table\"),\". You can also click the \",mdx(\"strong\",{parentName:\"li\"},\"Open Attribute Table button\"),\" \",mdx(\"img\",e({parentName:\"li\"},{src:\"/open-geodata-curriculum/images/en/kenya/module6/media/open-attribute-btn.png\",alt:\"Open attribute table button\",title:\"Open attribute table button\"})),\" from the Attributes Toolbar. This is what the attribute table looks like. The tool bar has a range of buttons, hover over each button to see the embedded functionality.\")),mdx(\"p\",null,mdx(\"img\",e({parentName:\"p\"},{src:\"/open-geodata-curriculum/images/en/kenya/module6/media/attribute-tab.png\",alt:\"Open attribute table\",title:\"Open attribute table\"}))),mdx(\"p\",null,\"Figure 6.2: Open attribute table\"),mdx(\"p\",null,\"If you don't want the attribute table to be a floating window but rather dock it on the QGIS interface, you can click the \",mdx(\"strong\",{parentName:\"p\"},\"Dock attribute table button\"),\" \",mdx(\"img\",e({parentName:\"p\"},{src:\"/open-geodata-curriculum/images/en/kenya/module6/media/dock-attr-btn.png\",alt:'\"Dock attribute table\"',title:\"Dock attribute table\"})),\". When docked, attribute tables will appear as tabs instead of individual windows.\"),mdx(\"p\",null,mdx(\"img\",e({parentName:\"p\"},{src:\"/open-geodata-curriculum/images/en/kenya/module6/media/docked-attribute-tab.png\",alt:\"Docked attribute table\",title:\"Docked attribute table\"}))),mdx(\"p\",null,\"Figure 6.3: Docked attribute table\"),mdx(\"ol\",e({},{start:3}),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"For area calculations, the Coordinate Reference System should be a projected one. This allows you to calculate distances correctly. Remember, our interest is to automatically calculate the area for each of the 81 provinces. Check the Coordinate Reference System of the vector layer. If it\\u2019s a geographic coordinate reference system, then reproject the layer to a projected coordinate system. Check for different projections on the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://epsg.io/?q=Kenya\"}),\"EPSG\"),\" website. This is Kenya, which has several projections depending on the zone. Since this exercise covers several zones, we'll use a universal projection used across Africa- \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://epsg.io/102022\"}),\"EPSG:102022 / Africa Albers Equal Area Conic\"),\". From previous modules where map projections are extensively discussed, you may already know that map projections are applied relative to a given location on earth. \")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"Check the project Settings; Go to: \",mdx(\"strong\",{parentName:\"p\"},\"Project \\u2023 Properties Properties \\u2023 General\"),\".\"))),mdx(\"p\",null,mdx(\"img\",e({parentName:\"p\"},{src:\"/open-geodata-curriculum/images/en/kenya/module6/media/gen-settings.png\",alt:\"Planimetric\",title:\"Planimetric\"}))),mdx(\"p\",null,\"Figure 6.4: General settings\"),mdx(\"ol\",e({},{start:5}),mdx(\"li\",{parentName:\"ol\"},\"Next, Click the \",mdx(\"strong\",{parentName:\"li\"},\"Open field calculator\"),\" \",mdx(\"img\",e({parentName:\"li\"},{src:\"/open-geodata-curriculum/images/en/kenya/module6/media/field_calculator.png\",alt:\"alt_text\",title:\"image_tooltip\"})),\" button on the Attributes Toolbar to open the field calculator. The field calculator dialogue will open; fill in the output field name, in this case it will be \\u2018AREA (SQ KM)\\u2019. Choose the Decimal number (double) on the output field type. Change the precision to 2 decimal places. To calculate the area, use the following expression:\")),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`$area / 1000000\n`)),mdx(\"p\",null,\" You can find this expression under \",mdx(\"strong\",{parentName:\"p\"},\"Geometry\"),\". Click OK and it will automatically calculate the area for each polygon. Take note that the area computation is dependent on the coordinate reference system used so you may have different results depending on what CRS you used. You can also search and find information about expressions on the right side of the Field Calculator or Expression Builder.\"),mdx(\"p\",null,mdx(\"img\",e({parentName:\"p\"},{src:\"/open-geodata-curriculum/images/en/kenya/module6/media/fieldcalc.png\",alt:\"Field calculator dialogue\",title:\"Field calculator dialogue\"}))),mdx(\"p\",null,\"Figure 6.5: Field calculator dialogue\"),mdx(\"ol\",e({},{start:6}),mdx(\"li\",{parentName:\"ol\"},\"Open the attribute table to see the result. You just edited the contents of the attribute table, in an automated way as opposed to typing the values in each cell one by one. \")),mdx(\"p\",null,mdx(\"img\",e({parentName:\"p\"},{src:\"/open-geodata-curriculum/images/en/kenya/module6/media/area.png\",alt:\"New attribute table with new field and attributes\",title:\"New attribute table with new field and attributes\"}))),mdx(\"p\",null,\"Figure 6.6: New attribute table with new field and attributes\"),mdx(\"h4\",e({},{id:\"quiz-questions\"}),mdx(\"a\",e({parentName:\"h4\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#quiz-questions\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"icon icon-link\"}))),mdx(\"strong\",{parentName:\"h4\"},\"Quiz questions\")),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"An attribute table is a database or tabular file containing information about a set of geographic features\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"Geographic features are usually arranged so that each row represents a feature and each column represents one feature attribute\")),mdx(\"li\",{parentName:\"ol\"},mdx(\"p\",{parentName:\"li\"},\"It is necessary to reproject layers prior to area calculations when the layer has a geographic coordinate reference system\"))),mdx(\"h4\",e({},{id:\"quiz-answers\"}),mdx(\"a\",e({parentName:\"h4\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#quiz-answers\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"icon icon-link\"}))),mdx(\"strong\",{parentName:\"h4\"},\"Quiz answers\")),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"True\"),mdx(\"li\",{parentName:\"ol\"},\"True\"),mdx(\"li\",{parentName:\"ol\"},\"True\")),mdx(\"h3\",e({},{id:\"phase-2--understanding-and-working-with-attribute-data-queries-and-analysis\"}),mdx(\"a\",e({parentName:\"h3\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#phase-2--understanding-and-working-with-attribute-data-queries-and-analysis\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Phase 2 : Understanding and working with attribute data, queries and analysis\"),mdx(\"h4\",e({},{id:\"contenttutorial-1\"}),mdx(\"a\",e({parentName:\"h4\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#contenttutorial-1\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"icon icon-link\"}))),mdx(\"strong\",{parentName:\"h4\"},\"Content/Tutorial\")),mdx(\"p\",null,\"At this point, you might notice that the attribute table stores both spatial and non-spatial data. In this tutorial you\\u2019ll discover ways of working with attribute table data. For example, Using expressions, select Clinics in Kiambu county with a wheelchair facility, all using data from the attribute table. \"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"Add the following datasets of Kenya to the QGIS map canvas; \")),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Kiambu administrative boundary layer (inside \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://drive.google.com/file/d/1jQdeAsR0v3AmYZwlsyPDQQiUDfbKKpZr/view?usp=sharing\"}),\"module6.gpkg\"),\")\"),mdx(\"li\",{parentName:\"ul\"},\"Kiambu clinics (inside \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://drive.google.com/file/d/1jQdeAsR0v3AmYZwlsyPDQQiUDfbKKpZr/view?usp=sharing\"}),\"module6.gpkg\"),\")\"),mdx(\"li\",{parentName:\"ul\"},\"Kenya counties (inside \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://drive.google.com/file/d/1jQdeAsR0v3AmYZwlsyPDQQiUDfbKKpZr/view?usp=sharing\"}),\"module6.gpkg\"),\")\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"https://drive.google.com/file/d/1NTCwshHDmZu534iRfaZtflrvPeIpdEN6/view?usp=sharing\"}),\"Kiambu High Resolution Settlement Layer\"))),mdx(\"p\",null,mdx(\"img\",e({parentName:\"p\"},{src:\"/open-geodata-curriculum/images/en/kenya/module6/media/add-layers.png\",alt:\"Add different layers\",title:\"Add different layers\"}))),mdx(\"p\",null,\"Figure 6.7: Add different layers\"),mdx(\"ol\",e({},{start:2}),mdx(\"li\",{parentName:\"ol\"},\"The selection will be applied to the Clinics layer, therefore Open the attribute table for the Clinic layer. Click the select features using expression \",mdx(\"img\",e({parentName:\"li\"},{src:\"/open-geodata-curriculum/images/en/kenya/module6/media/select_features_button.png\",alt:\"alt_text\",title:\"image_tooltip\"})),\" button and type the following expression in the expression builder;\")),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`\"amenity\" = 'clinic' AND \"wheelchair\" = 'yes'\n`)),mdx(\"p\",null,\"You\\u2019ll notice that the expression has a number of predicates like the comparison sign (=), the logical predicate (AND) and a string which is enclosed in single quotes (\\u2018 \\u2018). There are also two attribute names(amenity, emergency) and their values (clinic,yes). \"),mdx(\"p\",null,mdx(\"img\",e({parentName:\"p\"},{src:\"/open-geodata-curriculum/images/en/kenya/module6/media/select.png\",alt:\"alt_text\",title:\"image_tooltip\"}))),mdx(\"p\",null,\"Figure 6.8: Select by Expression builder dialogue\"),mdx(\"ol\",e({},{start:3}),mdx(\"li\",{parentName:\"ol\"},\"Four Clinics are selected. You can see the selection highlighted in yellow. The selected clinics are also highlighted in the attribute table. Now we know there are four clinics with wheelchair facility in Kiambu county.\")),mdx(\"p\",null,mdx(\"img\",e({parentName:\"p\"},{src:\"/open-geodata-curriculum/images/en/kenya/module6/media/selected-canvas.png\",alt:\"alt_text\",title:\"image_tooltip\"}))),mdx(\"p\",null,\"Figure 6.9: Selected clinic/feature is highlighted (yellow)\"),mdx(\"p\",null,mdx(\"img\",e({parentName:\"p\"},{src:\"/open-geodata-curriculum/images/en/kenya/module6/media/selected-attr.png\",alt:\"alt_text\",title:\"image_tooltip\"}))),mdx(\"p\",null,\"Figure 6.10: Selected clinic/feature is highlighted (blue)\"),mdx(\"p\",null,\"It\\u2019s also possible to make selections by clicking a feature  within the map canvas. \"),mdx(\"p\",null,\"Developing a functional expression starts with understanding your data; for example the attributes and   the values they hold. Then asking the right questions and finally, developing the correct expression, putting into consideration all mathematical rules that make an error free expression.\"),mdx(\"h4\",e({},{id:\"quiz-questions-1\"}),mdx(\"a\",e({parentName:\"h4\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#quiz-questions-1\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"icon icon-link\"}))),mdx(\"strong\",{parentName:\"h4\"},\"Quiz questions\")),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"These operators are provided by the expression builder.  {+, -, *}\"),mdx(\"li\",{parentName:\"ol\"},\"Single quotes must enclose a string.\"),mdx(\"li\",{parentName:\"ol\"},\"The attribute table stores only non spatial data.\")),mdx(\"h4\",e({},{id:\"quiz-answers-1\"}),mdx(\"a\",e({parentName:\"h4\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#quiz-answers-1\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"icon icon-link\"}))),mdx(\"strong\",{parentName:\"h4\"},\"Quiz answers\")),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"True\"),mdx(\"li\",{parentName:\"ol\"},\"True\"),mdx(\"li\",{parentName:\"ol\"},\"False\")),mdx(\"h3\",e({},{id:\"phase-3-title--advanced-qgis-expressions\"}),mdx(\"a\",e({parentName:\"h3\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#phase-3-title--advanced-qgis-expressions\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"icon icon-link\"}))),\"Phase 3 title : Advanced QGIS expressions\"),mdx(\"p\",null,\"The Expression builder dialog offers access to the:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Expression tab (\",mdx(\"a\",e({parentName:\"li\"},{href:\"https://docs.qgis.org/latest/en/docs/user_manual/working_with_vector/expression.html\"}),\"https://docs.qgis.org/latest/en/docs/pyqgis_developer_cookbook/expressions.html?highlight=vector%20expressions\"),\") which, thanks to a list of predefined functions, helps to write and check the expression to use;\"),mdx(\"li\",{parentName:\"ul\"},\"Function Editor tab (\",mdx(\"a\",e({parentName:\"li\"},{href:\"https://docs.qgis.org/latest/en/docs/user_manual/working_with_vector/expression.html\"}),\"https://docs.qgis.org/latest/en/docs/user_manual/working_with_vector/expression.html\"),\") which helps to extend the list of functions by creating custom ones.\")),mdx(\"h4\",e({},{id:\"contenttutorial-2\"}),mdx(\"a\",e({parentName:\"h4\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#contenttutorial-2\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"icon icon-link\"}))),mdx(\"strong\",{parentName:\"h4\"},\"Content/Tutorial\")),mdx(\"p\",null,\"There are many use cases for expressions, here are some examples. Notice how the expressions are developed and what operators or predicates are used. Also important is the fact that all these expressions are developed based on the content of the dataset. You may adapt this to your dataset of choice.\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"From Field Calculator, calculate a \\u201Cpop_density\\u201D field using existing \\u201Ctotal_pop\\u201D and \\u201Carea_km2\\u201D fields:\")),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`\"total_pop\" / \"area_km2\"\n`)),mdx(\"ol\",e({},{start:2}),mdx(\"li\",{parentName:\"ol\"},\"Update the field \\u201Cdensity_level\\u201D with categories according to the \\u201Cpop_density\\u201D values:\")),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`CASE WHEN \"pop_density\" \u003c 50 THEN 'Low population density'\n     WHEN \"pop_density\" \u003e= 50 AND  \"pop_density\" \u003c 150 THEN 'Medium population density'\n     WHEN \"pop_density\" \u003e 150 THEN 'High population density'\nEND\n`)),mdx(\"ol\",e({},{start:3}),mdx(\"li\",{parentName:\"ol\"},\"Apply a categorized style to all the features according to whether their average house price is smaller or higher than 10000 shillings per square metre: \")),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`\"price_m2\" \u003e 10000\n`)),mdx(\"ol\",e({},{start:4}),mdx(\"li\",{parentName:\"ol\"},\"Using the \\u201CSelect By Expression...\\u201D tool, select all the features representing areas of \\u201CHigh population density\\u201D and whose average house price is higher than 10000 pesos per square metre:\")),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`\"density level\" = 'High population density' and \"price_m2\" \u003e 10000\n`)),mdx(\"ol\",e({},{start:5}),mdx(\"li\",{parentName:\"ol\"},\"Likewise, the previous expression could also be used to define which features should be labeled or shown in the map. \")),mdx(\"h4\",e({},{id:\"quiz-questions-2\"}),mdx(\"a\",e({parentName:\"h4\"},{\"aria-hidden\":\"true\",tabIndex:-1,href:\"#quiz-questions-2\"}),mdx(\"span\",e({parentName:\"a\"},{className:\"icon icon-link\"}))),mdx(\"strong\",{parentName:\"h4\"},\"Quiz questions\")),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"Both Field calculator and Select by Expression dialogue can be used to develop expressions -- \",mdx(\"strong\",{parentName:\"li\"},mdx(\"em\",{parentName:\"strong\"},\"True\"))),mdx(\"li\",{parentName:\"ol\"},\"Expressions can be used to update a new field -- \",mdx(\"strong\",{parentName:\"li\"},mdx(\"em\",{parentName:\"strong\"},\"True\"))),mdx(\"li\",{parentName:\"ol\"},\"Expressions can be used to apply a style  -- \",mdx(\"strong\",{parentName:\"li\"},mdx(\"em\",{parentName:\"strong\"},\"True\")))))}MDXContent.isMDXComponent=!0;\n","scope":{"slug":"kenya","title":"kenya","language":"english","description":"Module 6 - Layer Attributes (Kenya, English)","date":"","author":"Ben Hur, Ketty","prev":"/en/kenya/module/module5","next":"/en/kenya/module/module7","mods":["Gentle Introduction to GIS concepts[/en/kenya/module/module0]","Introduction to QGIS[/en/kenya/module/module1]","Layers in QGIS[/en/kenya/module/module2]","Introduction to OpenStreetMap and the High Resolution Settlement Layer[/en/kenya/module/module3]","Layer Styling and Symbology[/en/kenya/module/module4]","Basic Cartography and Map-making[/en/kenya/module/module5]","Layer Attributes[/en/kenya/module/module6]","Layer Creation and Editing[/en/kenya/module/module7]","Vector Processing and Analysis[/en/kenya/module/module8]","Raster Processing and Analysis[/en/kenya/module/module9]","QGIS Plugins[/en/kenya/module/module10]"],"outlines":["Pedagogical Introduction","Required tools and resources","Prerequisites","Additional resources","Thematic introduction","Breakdown of the concepts","Main content"]}},"frontMatter":{"slug":"kenya","title":"kenya","language":"english","description":"Module 6 - Layer Attributes (Kenya, English)","date":"","author":"Ben Hur, Ketty","prev":"/en/kenya/module/module5","next":"/en/kenya/module/module7","mods":["Gentle Introduction to GIS concepts[/en/kenya/module/module0]","Introduction to QGIS[/en/kenya/module/module1]","Layers in QGIS[/en/kenya/module/module2]","Introduction to OpenStreetMap and the High Resolution Settlement Layer[/en/kenya/module/module3]","Layer Styling and Symbology[/en/kenya/module/module4]","Basic Cartography and Map-making[/en/kenya/module/module5]","Layer Attributes[/en/kenya/module/module6]","Layer Creation and Editing[/en/kenya/module/module7]","Vector Processing and Analysis[/en/kenya/module/module8]","Raster Processing and Analysis[/en/kenya/module/module9]","QGIS Plugins[/en/kenya/module/module10]"],"outlines":["Pedagogical Introduction","Required tools and resources","Prerequisites","Additional resources","Thematic introduction","Breakdown of the concepts","Main content"]},"isInRequestedLanguage":true,"_nextI18Next":{"initialI18nStore":{"en":{"countrylevel":{"language":"LANGUAGE","region":"REGION","next":"Next","back":"Back","content_page":"Contents Page","outlines":"Outlines","content_menu":"Content Menu","back_to_home":"Back to Home Page"}}},"initialLocale":"en","userConfig":{"i18n":{"defaultLocale":"en","locales":["en","ar","es"],"defaultCountry":"philippines","countries":["argentina","ethiopia","india","kenya","mexico","philippines","united-arab-emirates"]},"reloadOnPrerender":true,"default":{"i18n":{"defaultLocale":"en","locales":["en","ar","es"],"defaultCountry":"philippines","countries":["argentina","ethiopia","india","kenya","mexico","philippines","united-arab-emirates"]},"reloadOnPrerender":true}}}},"__N_SSG":true},"page":"/[locale]/[country]/module/[slug]","query":{"locale":"en","country":"kenya","slug":"module6"},"buildId":"g1a0fmd1eoEGKWrnpF1hU","assetPrefix":"/open-geodata-curriculum","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>